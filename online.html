<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>雀富豪 - オンライン対戦</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

<h1>雀富豪 - オンライン対戦</h1>
<button onclick="location.href='index.html'">← ホームへ戻る</button>


<!-- ======================================================
     ① 待機画面
====================================================== -->
<div id="lobbySection" class="section">

    <h2>待機画面</h2>

    <!-- 名前設定 -->
    <div style="margin-bottom:10px;">
        <input id="playerNameInput" placeholder="名前を入力">
        <button id="setNameBtn">名前設定</button>
    </div>

    <!-- ルーム作成 -->
    <button id="createRoomBtn">ルームを作る</button>

    <!-- ルーム参加 -->
    <div style="margin-top:10px;">
        <input id="joinRoomId" placeholder="ルームIDを入力">
        <button id="joinRoomBtn">参加</button>
    </div>

    <!-- ルームID表示 -->
    <div id="roomDisplay" style="margin-top:10px;">
        <span id="roomIdText"></span>
        <button id="copyRoomIdBtn" style="display:none;">コピー</button>
    </div>

    <!-- ゲーム開始（ホストのみ） -->
    <button id="startGameBtn" style="display:none; margin-top:10px;">ゲーム開始</button>

    <!-- プレイヤー一覧 -->
    <div id="playerList" class="area"></div>

</div>



<!-- ======================================================
     ② 対戦画面
====================================================== -->
<div id="playSection" class="section">

    <!-- ターン表示 -->
    <div id="right-panel">
        <h2>ターン情報</h2>
        <div id="turnDisplay">現在のターン：ー<br>次：ー</div>
    </div>

    <h2>対戦画面</h2>

    <!-- あなたの手札 -->
    <div class="area">
        <h3>あなたの手牌</h3>
        <div id="hand"></div>
    </div>

    <!-- 場 -->
    <div class="area">
        <h3>場（最後のセット）</h3>
        <div id="field"></div>
    </div>

    <!-- 操作ボタン -->
    <div class="area">
        <button onclick="playOnline()">出す</button>
        <button onclick="passOnline()">パス</button>
        <button onclick="takeOnline()">倒す</button>
    </div>
</div>



<!-- ======================================================
     ③ 結果ポップアップ
====================================================== -->
<div id="resultPopup" class="popupWindow">
    <div id="resultText"></div>
    <button id="restartBtn">もう一度遊ぶ</button>
    <button id="closeRoomBtn">ルームを解散する</button>
</div>



<!-- ======================================================
     Firebase 初期化
====================================================== -->
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";

    const firebaseConfig = {
        apiKey: "AIzaSyCiC3YczfiCXajLy8swS9RtShw5BpBKQwQ",
        authDomain: "jang-fugou.firebaseapp.com",
        projectId: "jang-fugou",
        storageBucket: "jang-fugou.firebasestorage.app",
        messagingSenderId: "1083704368390",
        appId: "1:1083704368390:web:f6b6aa0b42508182f41287",
        measurementId: "G-WTYGK3TB63",
        databaseURL: "https://jang-fugou-default-rtdb.firebaseio.com"
    };

    initializeApp(firebaseConfig);
</script>


<!-- ======================================================
     オンライン待機ロジック / 対戦ロジック
====================================================== -->
<script type="module" src="online.js"></script>
<script type="module" src="onlinemain.js"></script>

</body>
</html>
